{"version":3,"file":"InventoryPage-CwC1e0s8.js","sources":["../../src/components/InventoryList.jsx","../../src/pages/InventoryPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst API_BASE_URL = \"https://tomlin-backend.onrender.com\"; // Replace with your actual API base URL\r\n\r\nconst InventoryList = () => {\r\n  const [inventory, setInventory] = useState([]);\r\n  const [orders, setOrders] = useState([]);\r\n  const [expenses, setExpenses] = useState([]);\r\n  const [totalRevenue, setTotalRevenue] = useState(0);\r\n  const [isLoading, setIsLoading] = useState({\r\n    inventory: false,\r\n    orders: false,\r\n    expenses: false,\r\n  });\r\n  const [notification, setNotification] = useState({\r\n    show: false,\r\n    message: \"\",\r\n    type: \"\",\r\n  });\r\n\r\n  const [newItem, setNewItem] = useState({\r\n    item_name: \"\",\r\n    quantity: \"\",\r\n    purchase_price: \"\",\r\n    sale_price: \"\",\r\n    menu_item: \"\",\r\n  });\r\n\r\n  const [newExpense, setNewExpense] = useState({\r\n    description: \"\",\r\n    amount: \"\",\r\n    date: new Date().toISOString().split(\"T\")[0],\r\n    category: \"Utilities\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchInventory();\r\n    fetchOrders();\r\n    fetchExpenses();\r\n  }, []);\r\n\r\n  const showNotification = (message, type = \"success\") => {\r\n    setNotification({ show: true, message, type });\r\n    setTimeout(\r\n      () => setNotification({ show: false, message: \"\", type: \"\" }),\r\n      3000\r\n    );\r\n  };\r\n\r\n  const fetchInventory = async () => {\r\n    setIsLoading((prev) => ({ ...prev, inventory: true }));\r\n    try {\r\n      const response = await axios.get(`${API_BASE_URL}/api/inventory/`);\r\n      setInventory(Array.isArray(response.data) ? response.data : []);\r\n    } catch (error) {\r\n      console.error(\"Error fetching inventory:\", error);\r\n      showNotification(\"Failed to fetch inventory\", \"error\");\r\n      setInventory([]);\r\n    } finally {\r\n      setIsLoading((prev) => ({ ...prev, inventory: false }));\r\n    }\r\n  };\r\n\r\n  const fetchOrders = async () => {\r\n    setIsLoading((prev) => ({ ...prev, orders: true }));\r\n    try {\r\n      const response = await axios.get(`${API_BASE_URL}/api/orders/`);\r\n      const ordersData = Array.isArray(response.data) ? response.data : [];\r\n      // Sort orders by date (assuming there's a created_at field)\r\n      const sortedOrders = [...ordersData].sort(\r\n        (a, b) =>\r\n          new Date(b.created_at || b.date || 0) -\r\n          new Date(a.created_at || a.date || 0)\r\n      );\r\n      setOrders(sortedOrders);\r\n\r\n      // Calculate total revenue from orders\r\n      const revenue = ordersData.reduce(\r\n        (acc, order) => acc + (parseFloat(order.amount) || 0),\r\n        0\r\n      );\r\n      setTotalRevenue(revenue);\r\n    } catch (error) {\r\n      console.error(\"Error fetching orders:\", error);\r\n      showNotification(\"Failed to fetch orders\", \"error\");\r\n      setOrders([]);\r\n    } finally {\r\n      setIsLoading((prev) => ({ ...prev, orders: false }));\r\n    }\r\n  };\r\n\r\n  const fetchExpenses = async () => {\r\n    setIsLoading((prev) => ({ ...prev, expenses: true }));\r\n    try {\r\n      const response = await axios.get(`${API_BASE_URL}/api/reports/expenses/`);\r\n      const expensesData = Array.isArray(response.data) ? response.data : [];\r\n      // Sort expenses by date (newest first)\r\n      const sortedExpenses = [...expensesData].sort(\r\n        (a, b) => new Date(b.date || 0) - new Date(a.date || 0)\r\n      );\r\n      setExpenses(sortedExpenses);\r\n    } catch (error) {\r\n      console.error(\"Error fetching expenses:\", error);\r\n      showNotification(\"Failed to fetch expenses\", \"error\");\r\n      setExpenses([]);\r\n    } finally {\r\n      setIsLoading((prev) => ({ ...prev, expenses: false }));\r\n    }\r\n  };\r\n\r\n  const handleAddInventory = async (e) => {\r\n    e.preventDefault();\r\n    setIsLoading((prev) => ({ ...prev, inventory: true }));\r\n    try {\r\n      await axios.post(`${API_BASE_URL}/api/inventory/`, newItem);\r\n      fetchInventory();\r\n      showNotification(\"Inventory item added successfully\");\r\n      // Reset form\r\n      setNewItem({\r\n        item_name: \"\",\r\n        quantity: \"\",\r\n        purchase_price: \"\",\r\n        sale_price: \"\",\r\n        menu_item: \"\",\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error adding inventory:\", error);\r\n      showNotification(\"Failed to add inventory item\", \"error\");\r\n    } finally {\r\n      setIsLoading((prev) => ({ ...prev, inventory: false }));\r\n    }\r\n  };\r\n\r\n  const handleDeleteInventory = async (id) => {\r\n    if (window.confirm(\"Are you sure you want to delete this item?\")) {\r\n      setIsLoading((prev) => ({ ...prev, inventory: true }));\r\n      try {\r\n        await axios.delete(`${API_BASE_URL}/api/inventory/${id}/`);\r\n        showNotification(\"Item deleted successfully\");\r\n        fetchInventory();\r\n      } catch (error) {\r\n        console.error(\"Error deleting inventory:\", error);\r\n        showNotification(\"Failed to delete item\", \"error\");\r\n      } finally {\r\n        setIsLoading((prev) => ({ ...prev, inventory: false }));\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleAddExpense = async (e) => {\r\n    e.preventDefault();\r\n    setIsLoading((prev) => ({ ...prev, expenses: true }));\r\n    try {\r\n      await axios.post(`${API_BASE_URL}/api/reports/expenses/`, newExpense);\r\n      fetchExpenses();\r\n      showNotification(\"Expense added successfully\");\r\n      // Reset form\r\n      setNewExpense({\r\n        description: \"\",\r\n        amount: \"\",\r\n        date: new Date().toISOString().split(\"T\")[0],\r\n        category: \"Utilities\",\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error adding expense:\", error);\r\n      showNotification(\"Failed to add expense\", \"error\");\r\n    } finally {\r\n      setIsLoading((prev) => ({ ...prev, expenses: false }));\r\n    }\r\n  };\r\n\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat(\"en-US\", {\r\n      style: \"currency\",\r\n      currency: \"USD\",\r\n    }).format(amount);\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return \"N/A\";\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString(\"en-US\", {\r\n      year: \"numeric\",\r\n      month: \"short\",\r\n      day: \"numeric\",\r\n    });\r\n  };\r\n\r\n  // Calculate total inventory value\r\n  const totalInventoryValue = inventory.reduce(\r\n    (total, item) => total + item.quantity * item.purchase_price,\r\n    0\r\n  );\r\n\r\n  // Calculate total expenses\r\n  const totalExpenses = expenses.reduce(\r\n    (total, expense) =>\r\n      total + parseFloat(expense.total_expenses || expense.amount || 0),\r\n    0\r\n  );\r\n\r\n  // Calculate profit\r\n  const profit = totalRevenue - totalExpenses;\r\n\r\n  const expenseCategories = [\r\n    \"Utilities\",\r\n    \"Rent\",\r\n    \"Salaries\",\r\n    \"Supplies\",\r\n    \"Maintenance\",\r\n    \"Marketing\",\r\n    \"Insurance\",\r\n    \"Other\",\r\n  ];\r\n\r\n  return (\r\n    <div className=\"p-6 bg-gray-50 h-screen max-h-screen overflow-y-auto\">\r\n      {/* Notification */}\r\n      {notification.show && (\r\n        <div\r\n          className={`fixed top-4 right-4 p-4 rounded-lg shadow-lg ${\r\n            notification.type === \"error\" ? \"bg-red-500\" : \"bg-green-500\"\r\n          } text-white`}\r\n        >\r\n          {notification.message}\r\n        </div>\r\n      )}\r\n\r\n      {/* Dashboard Summary */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\r\n        <div className=\"bg-white p-6 rounded-lg shadow hover:shadow-md transition-shadow\">\r\n          <h3 className=\"text-gray-500 text-sm font-medium mb-1\">\r\n            Total Inventory Value\r\n          </h3>\r\n          <p className=\"text-2xl font-bold\">\r\n            {formatCurrency(totalInventoryValue)}\r\n          </p>\r\n        </div>\r\n        <div className=\"bg-white p-6 rounded-lg shadow hover:shadow-md transition-shadow\">\r\n          <h3 className=\"text-gray-500 text-sm font-medium mb-1\">\r\n            Total Revenue\r\n          </h3>\r\n          <p className=\"text-2xl font-bold\">{formatCurrency(totalRevenue)}</p>\r\n        </div>\r\n        <div className=\"bg-white p-6 rounded-lg shadow hover:shadow-md transition-shadow\">\r\n          <h3 className=\"text-gray-500 text-sm font-medium mb-1\">Net Profit</h3>\r\n          <p\r\n            className={`text-2xl font-bold ${\r\n              profit >= 0 ? \"text-green-600\" : \"text-red-600\"\r\n            }`}\r\n          >\r\n            {formatCurrency(profit)}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stock Inventory */}\r\n      <div className=\"bg-white p-6 rounded-lg shadow mb-6\">\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h2 className=\"text-xl font-semibold\">Stock Inventory</h2>\r\n          {isLoading.inventory && (\r\n            <div className=\"text-blue-500\">Loading...</div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full text-left border-collapse\">\r\n            <thead>\r\n              <tr className=\"bg-gray-100\">\r\n                <th className=\"px-4 py-3 border-b font-semibold text-sm text-gray-700\">\r\n                  Item Name\r\n                </th>\r\n                <th className=\"px-4 py-3 border-b font-semibold text-sm text-gray-700\">\r\n                  Quantity\r\n                </th>\r\n                <th className=\"px-4 py-3 border-b font-semibold text-sm text-gray-700\">\r\n                  Purchase Price\r\n                </th>\r\n                <th className=\"px-4 py-3 border-b font-semibold text-sm text-gray-700\">\r\n                  Sale Price\r\n                </th>\r\n                <th className=\"px-4 py-3 border-b font-semibold text-sm text-gray-700\">\r\n                  Total Value\r\n                </th>\r\n                <th className=\"px-4 py-3 border-b font-semibold text-sm text-gray-700\">\r\n                  Action\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {inventory.length === 0 ? (\r\n                <tr>\r\n                  <td\r\n                    colSpan=\"6\"\r\n                    className=\"px-4 py-4 text-center text-gray-500\"\r\n                  >\r\n                    No inventory items found\r\n                  </td>\r\n                </tr>\r\n              ) : (\r\n                inventory.map((item) => (\r\n                  <tr key={item.id} className=\"hover:bg-gray-50\">\r\n                    <td className=\"px-4 py-3 border-b\">{item.item_name}</td>\r\n                    <td className=\"px-4 py-3 border-b\">{item.quantity}</td>\r\n                    <td className=\"px-4 py-3 border-b\">\r\n                      {formatCurrency(item.purchase_price)}\r\n                    </td>\r\n                    <td className=\"px-4 py-3 border-b\">\r\n                      {formatCurrency(item.sale_price)}\r\n                    </td>\r\n                    <td className=\"px-4 py-3 border-b\">\r\n                      {formatCurrency(item.quantity * item.purchase_price)}\r\n                    </td>\r\n                    <td className=\"px-4 py-3 border-b\">\r\n                      <button\r\n                        onClick={() => handleDeleteInventory(item.id)}\r\n                        className=\"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded transition-colors\"\r\n                      >\r\n                        Delete\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <form\r\n          onSubmit={handleAddInventory}\r\n          className=\"mt-6 bg-gray-50 p-4 rounded-lg\"\r\n        >\r\n          <h3 className=\"text-lg font-medium mb-3\">Add New Item</h3>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Item Name\"\r\n              value={newItem.item_name}\r\n              onChange={(e) =>\r\n                setNewItem({ ...newItem, item_name: e.target.value })\r\n              }\r\n              className=\"p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              required\r\n            />\r\n            <input\r\n              type=\"number\"\r\n              placeholder=\"Quantity\"\r\n              value={newItem.quantity}\r\n              onChange={(e) =>\r\n                setNewItem({ ...newItem, quantity: e.target.value })\r\n              }\r\n              className=\"p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              required\r\n              min=\"0\"\r\n            />\r\n            <input\r\n              type=\"number\"\r\n              placeholder=\"Purchase Price\"\r\n              value={newItem.purchase_price}\r\n              onChange={(e) =>\r\n                setNewItem({ ...newItem, purchase_price: e.target.value })\r\n              }\r\n              className=\"p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              required\r\n              min=\"0\"\r\n              step=\"0.01\"\r\n            />\r\n            <input\r\n              type=\"number\"\r\n              placeholder=\"Sale Price\"\r\n              value={newItem.sale_price}\r\n              onChange={(e) =>\r\n                setNewItem({ ...newItem, sale_price: e.target.value })\r\n              }\r\n              className=\"p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              required\r\n              min=\"0\"\r\n              step=\"0.01\"\r\n            />\r\n            <button\r\n              type=\"submit\"\r\n              className=\"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded transition-colors\"\r\n              disabled={isLoading.inventory}\r\n            >\r\n              {isLoading.inventory ? \"Adding...\" : \"Add Item\"}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      {/* Expenses */}\r\n      <div className=\"bg-white p-6 rounded-lg shadow mb-6\">\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h2 className=\"text-xl font-semibold\">Expenses</h2>\r\n          {isLoading.expenses && (\r\n            <div className=\"text-blue-500\">Loading...</div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full text-left border-collapse\">\r\n            <thead>\r\n              <tr className=\"bg-gray-100\">\r\n                <th className=\"px-4 py-3 border-b font-semibold text-sm text-gray-700\">\r\n                  Date\r\n                </th>\r\n                <th className=\"px-4 py-3 border-b font-semibold text-sm text-gray-700\">\r\n                  Description\r\n                </th>\r\n                <th className=\"px-4 py-3 border-b font-semibold text-sm text-gray-700\">\r\n                  Category\r\n                </th>\r\n                <th className=\"px-4 py-3 border-b font-semibold text-sm text-gray-700\">\r\n                  Amount\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {expenses.length === 0 ? (\r\n                <tr>\r\n                  <td\r\n                    colSpan=\"4\"\r\n                    className=\"px-4 py-4 text-center text-gray-500\"\r\n                  >\r\n                    No expenses found\r\n                  </td>\r\n                </tr>\r\n              ) : (\r\n                expenses.map((expense) => (\r\n                  <tr key={expense.id} className=\"hover:bg-gray-50\">\r\n                    <td className=\"px-4 py-3 border-b\">\r\n                      {formatDate(expense.date)}\r\n                    </td>\r\n                    <td className=\"px-4 py-3 border-b\">\r\n                      {expense.description}\r\n                    </td>\r\n                    <td className=\"px-4 py-3 border-b\">\r\n                      {expense.category || \"Uncategorized\"}\r\n                    </td>\r\n                    <td className=\"px-4 py-3 border-b text-red-600\">\r\n                      {formatCurrency(expense.total_expenses || expense.amount)}\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <form\r\n          onSubmit={handleAddExpense}\r\n          className=\"mt-6 bg-gray-50 p-4 rounded-lg\"\r\n        >\r\n          <h3 className=\"text-lg font-medium mb-3\">Add New Expense</h3>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n            <input\r\n              type=\"date\"\r\n              value={newExpense.date}\r\n              onChange={(e) =>\r\n                setNewExpense({ ...newExpense, date: e.target.value })\r\n              }\r\n              className=\"p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              required\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Description\"\r\n              value={newExpense.description}\r\n              onChange={(e) =>\r\n                setNewExpense({ ...newExpense, description: e.target.value })\r\n              }\r\n              className=\"p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              required\r\n            />\r\n            <select\r\n              value={newExpense.category}\r\n              onChange={(e) =>\r\n                setNewExpense({ ...newExpense, category: e.target.value })\r\n              }\r\n              className=\"p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              required\r\n            >\r\n              {expenseCategories.map((category) => (\r\n                <option key={category} value={category}>\r\n                  {category}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <div className=\"flex\">\r\n              <input\r\n                type=\"number\"\r\n                placeholder=\"Amount\"\r\n                value={newExpense.amount}\r\n                onChange={(e) =>\r\n                  setNewExpense({ ...newExpense, amount: e.target.value })\r\n                }\r\n                className=\"p-2 border border-gray-300 rounded-l focus:outline-none focus:ring-2 focus:ring-blue-500 flex-grow\"\r\n                required\r\n                min=\"0\"\r\n                step=\"0.01\"\r\n              />\r\n              <button\r\n                type=\"submit\"\r\n                className=\"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-r transition-colors\"\r\n                disabled={isLoading.expenses}\r\n              >\r\n                {isLoading.expenses ? \"Adding...\" : \"Add\"}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      {/* Recent Transactions */}\r\n      <div className=\"bg-white p-6 rounded-lg shadow\">\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h2 className=\"text-xl font-semibold\">Recent Transactions</h2>\r\n          {isLoading.orders && <div className=\"text-blue-500\">Loading...</div>}\r\n        </div>\r\n\r\n        {orders.length === 0 ? (\r\n          <p className=\"text-center text-gray-500 py-4\">\r\n            No transactions found\r\n          </p>\r\n        ) : (\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full text-left border-collapse\">\r\n              <thead>\r\n                <tr className=\"bg-gray-100\">\r\n                  <th className=\"px-4 py-3 border-b font-semibold text-sm text-gray-700\">\r\n                    Order ID\r\n                  </th>\r\n                  <th className=\"px-4 py-3 border-b font-semibold text-sm text-gray-700\">\r\n                    Date\r\n                  </th>\r\n                  <th className=\"px-4 py-3 border-b font-semibold text-sm text-gray-700\">\r\n                    Customer\r\n                  </th>\r\n                  <th className=\"px-4 py-3 border-b font-semibold text-sm text-gray-700\">\r\n                    Amount\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {orders.slice(0, 20).map((order) => (\r\n                  <tr key={order.id} className=\"hover:bg-gray-50\">\r\n                    <td className=\"px-4 py-3 border-b\">{order.id}</td>\r\n                    <td className=\"px-4 py-3 border-b\">\r\n                      {formatDate(order.created_at || order.date)}\r\n                    </td>\r\n                    <td className=\"px-4 py-3 border-b\">\r\n                      {order.customer_name}\r\n                    </td>\r\n                    <td className=\"px-4 py-3 border-b font-medium text-green-600\">\r\n                      {formatCurrency(order.amount)}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InventoryList;\r\n","import React from \"react\";\r\nimport InventoryList from \"../components/InventoryList\"; // ✅ Import the updated InventoryList\r\n\r\nconst InventoryPage = () => {\r\n  return (\r\n    <div className=\"flex h-screen\">\r\n      <div className=\"flex flex-col flex-1\">\r\n        {/* Menu Management Section */}\r\n        <div className=\"p-6 bg-gray-100\">\r\n          <div className=\"flex justify-between items-center mb-6\">\r\n            <h1 className=\"text-3xl font-bold\">Inventory Management</h1>\r\n          </div>\r\n\r\n          {/* ✅ Use the Updated InventoryList Component */}\r\n          <InventoryList />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InventoryPage;\r\n"],"names":["API_BASE_URL","InventoryList","inventory","setInventory","useState","orders","setOrders","expenses","setExpenses","totalRevenue","setTotalRevenue","isLoading","setIsLoading","notification","setNotification","newItem","setNewItem","newExpense","setNewExpense","useEffect","fetchInventory","fetchOrders","fetchExpenses","showNotification","message","type","prev","response","axios","error","ordersData","sortedOrders","a","b","revenue","acc","order","sortedExpenses","handleAddInventory","e","handleDeleteInventory","id","handleAddExpense","formatCurrency","amount","formatDate","dateString","totalInventoryValue","total","item","totalExpenses","expense","profit","expenseCategories","jsxs","jsx","category","InventoryPage"],"mappings":"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"}