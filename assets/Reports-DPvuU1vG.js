import{j as e,r as m}from"./react-vendor-C6XT1RV9.js";import{c as S,L as K,e as T,X as $,Y as E,T as L,f as C,a as R,g as r}from"./vendor-6GNEkk8L.js";import"./chart-vendor-CjLmMr0g.js";const d=({title:s,amount:a})=>e.jsxs("div",{className:"bg-white shadow-md rounded-2xl p-4 hover:shadow-xl transition duration-300",children:[e.jsx("h3",{className:"text-sm text-gray-500",children:s}),e.jsxs("p",{className:"text-2xl font-semibold text-green-600",children:["$",parseFloat(a||0).toFixed(2)]})]}),x=({title:s,data:a,dataKey:n,labelKey:i})=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md hover:shadow-xl transition",children:[e.jsx("h2",{className:"text-lg font-bold mb-4",children:s}),e.jsx(S,{width:"100%",height:300,children:e.jsxs(K,{data:a,children:[e.jsx(T,{strokeDasharray:"3 3"}),e.jsx($,{dataKey:i}),e.jsx(E,{}),e.jsx(L,{}),e.jsx(C,{type:"monotone",dataKey:n,stroke:"#10B981",strokeWidth:3,dot:{r:4}})]})})]}),X=()=>{const[s,a]=m.useState(null),[n,i]=m.useState(!0);if(m.useEffect(()=>{R.get("https://tomlin-backend.onrender.com/api/reports/expenses/").then(o=>{a(o.data),i(!1)}).catch(o=>{console.error("Error fetching reports:",o),i(!1)})},[]),n||!s)return e.jsx("div",{className:"text-center p-8 text-gray-600",children:n?"Loading reports...":"Failed to load reports."});const{summary:t={},daily_sales:c=[],weekly_sales:h=[],monthly_sales:p=[],yearly_sales:y=[]}=s,l=(o,M,k)=>{const j=o.find(F=>F[M]===k);return j?j.total:0},u=r().format("YYYY-MM-DD"),f=r().subtract(1,"day").format("YYYY-MM-DD"),b=r().startOf("week").format("YYYY-MM-DD"),g=r().startOf("month").format("YYYY-MM-DD"),N=r().startOf("year").format("YYYY-MM-DD"),Y=l(c,"day",u),_=l(c,"day",f),w=l(h,"week",b),v=l(p,"month",g),D=l(y,"year",N);return e.jsxs("div",{className:"space-y-6 p-4 h-screen max-h-screen overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsx(d,{title:"Today",amount:Y}),e.jsx(d,{title:"Yesterday",amount:_}),e.jsx(d,{title:"This Week",amount:w}),e.jsx(d,{title:"This Month",amount:v}),e.jsx(d,{title:"This Year",amount:D})]}),t&&e.jsxs("div",{className:"bg-white shadow rounded-lg p-6 mt-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"ðŸ“Š Financial Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded shadow",children:[e.jsx("p",{className:"text-blue-700 font-semibold",children:"Total Sales"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["$",typeof t.total_sales=="number"&&!isNaN(t.total_sales)?t.total_sales.toFixed(2):"0.00"]})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded shadow",children:[e.jsx("p",{className:"text-yellow-700 font-semibold",children:"Inventory Expense"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["$",typeof t.total_sales=="number"&&!isNaN(t.total_sales)?t.total_sales.toFixed(2):"0.00"]})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded shadow",children:[e.jsx("p",{className:"text-red-700 font-semibold",children:"Lease Expense"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["$",typeof t.total_sales=="number"&&!isNaN(t.total_sales)?t.total_sales.toFixed(2):"0.00"]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded shadow",children:[e.jsx("p",{className:"text-purple-700 font-semibold",children:"Total Expense"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["$",typeof t.total_sales=="number"&&!isNaN(t.total_sales)?t.total_sales.toFixed(2):"0.00"]})]}),e.jsxs("div",{className:`p-4 rounded shadow ${t.profit>=0?"bg-green-50":"bg-red-100"}`,children:[e.jsx("p",{className:`font-semibold ${t.profit>=0?"text-green-700":"text-red-700"}`,children:"Profit"}),e.jsxs("p",{className:`text-2xl font-bold ${t.profit>=0?"text-green-900":"text-red-900"}`,children:["$",typeof t.total_sales=="number"&&!isNaN(t.total_sales)?t.total_sales.toFixed(2):"0.00"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(x,{title:"ðŸ“ˆ Daily Sales",data:c,dataKey:"total",labelKey:"day"}),e.jsx(x,{title:"ðŸ“Š Weekly Sales",data:h,dataKey:"total",labelKey:"week"}),e.jsx(x,{title:"ðŸ“† Monthly Sales",data:p,dataKey:"total",labelKey:"month"}),e.jsx(x,{title:"ðŸ“… Yearly Sales",data:y,dataKey:"total",labelKey:"year"})]})]})};export{X as default};
//# sourceMappingURL=Reports-DPvuU1vG.js.map
